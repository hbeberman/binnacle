/* Readonly Indicator Component
 * Styles for readonly/archive mode indication
 * - Header badge showing readonly status
 * - Disabled styles for write-action buttons
 */

/* ==========================================================================
   Readonly Badge (appears in header)
   ========================================================================== */

.readonly-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.35rem 0.75rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--warning);
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--warning);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    animation: fadeIn 0.3s ease;
}

.readonly-badge-icon {
    font-size: 0.875rem;
}

.readonly-badge-text {
    white-space: nowrap;
}

/* Archive mode variant (shows archive icon) */
.readonly-badge.archive-mode {
    border-color: var(--info);
    color: var(--info);
}

/* ==========================================================================
   Write Action Buttons (disabled in readonly mode)
   ========================================================================== */

/* Global class applied to body when in readonly mode */
body.readonly-mode .write-action {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Hover state shows tooltip explaining why disabled */
body.readonly-mode .write-action-container {
    position: relative;
}

body.readonly-mode .write-action-container::after {
    content: attr(data-readonly-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.375rem 0.625rem;
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 0.75rem;
    color: var(--text-secondary);
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 1000;
    pointer-events: none;
}

body.readonly-mode .write-action-container:hover::after {
    opacity: 1;
    visibility: visible;
}

/* Arrow for tooltip */
body.readonly-mode .write-action-container::before {
    content: '';
    position: absolute;
    bottom: calc(100% - 5px);
    left: 50%;
    transform: translateX(-50%);
    border: 5px solid transparent;
    border-top-color: var(--border-color);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 1001;
    pointer-events: none;
}

body.readonly-mode .write-action-container:hover::before {
    opacity: 1;
    visibility: visible;
}

/* ==========================================================================
   Specific Write Action Elements
   ========================================================================== */

/* Queue toggle button */
body.readonly-mode .queue-toggle-btn {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Status change buttons */
body.readonly-mode .status-change-btn {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Create/Add buttons */
body.readonly-mode .create-btn,
body.readonly-mode .add-btn {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Edit buttons/inputs */
body.readonly-mode .edit-btn,
body.readonly-mode .editable-field {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Delete buttons */
body.readonly-mode .delete-btn {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Form inputs that would trigger writes */
body.readonly-mode .write-input {
    opacity: 0.5;
    pointer-events: none;
}

/* ==========================================================================
   Info Panel Readonly State
   ========================================================================== */

.info-panel-readonly-notice {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.75rem;
    background: rgba(240, 173, 78, 0.1);
    border: 1px solid rgba(240, 173, 78, 0.3);
    border-radius: 6px;
    font-size: 0.8rem;
    color: var(--warning);
}

.info-panel-readonly-notice-icon {
    font-size: 1rem;
}

/* ==========================================================================
   Connection Status Indicator
   ========================================================================== */

/* Visual indicator in header showing connection type */
.connection-mode-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.5rem;
    background: var(--bg-tertiary);
    border-radius: 4px;
    font-size: 0.7rem;
    color: var(--text-secondary);
}

.connection-mode-indicator.live {
    color: var(--success);
}

.connection-mode-indicator.archive {
    color: var(--info);
}

.connection-mode-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
}

.connection-mode-indicator.live .connection-mode-dot {
    animation: pulse 2s ease-in-out infinite;
}
